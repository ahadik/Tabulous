{"version":3,"sources":["webpack:///webpack/bootstrap 87b0d06e89ac892d2c6a","webpack:///./app.js","webpack:///external \"express\"","webpack:///external \"cfenv\"","webpack:///external \"path\"","webpack:///external \"body-parser\"","webpack:///external \"mongoose\"","webpack:///external \"passport\"","webpack:///external \"connect-flash\"","webpack:///external \"cookie-parser\"","webpack:///external \"express-session\"","webpack:///external \"fs\"","webpack:///external \"source-map-support\"","webpack:///./vcap-local.js","webpack:///./modules/config/database.js","webpack:///./modules/config/passport.js","webpack:///external \"passport-facebook\"","webpack:///./modules/models/user.js","webpack:///external \"bcrypt-nodejs\"","webpack:///./modules/config/auth.js","webpack:///external \"skipper\"","webpack:///./routes.js","webpack:///./modules/upload.js","webpack:///external \"crypto\"","webpack:///external \"multer\"","webpack:///external \"mime\"","webpack:///./modules/object_storage/index.js","webpack:///external \"request\"","webpack:///external \"mime-types\"","webpack:///external \"skipper-openstack\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 87b0d06e89ac892d2c6a\n **/","var express = require('express'),\n    cfenv = require('cfenv'),\n    path = require('path'),\n    bodyParser = require('body-parser'),\n    mongoose = require('mongoose'),\n    passport = require('passport'),\n    flash = require('connect-flash'),\n    cookieParser = require('cookie-parser'),\n    session = require('express-session'),\n    fs = require('fs');\n\nrequire('source-map-support').install();\n\nvar vcapLocal = null\ntry {\n  vcapLocal = require(\"./vcap-local.js\");\n}catch (e) {}\n\nvar appEnvOpts = vcapLocal ? {vcap:vcapLocal} : {};\n\nvar app = express(),\n    appEnv = cfenv.getAppEnv(appEnvOpts);\n\nvar req_url = 'https://dal.objectstorage.open.softlayer.com/v1/';\nvar swiftCredentials = appEnv.getServiceCreds(\"tabulous-storage\");\nswiftCredentials.container = process.env.TABULOUS_OBJ_CONTAINER;\nswiftCredentials.req_url = req_url;\n\nvar configDB = require('./modules/config/database.js');\nvar options = {\n  mongos: {\n    ssl: true,\n    sslValidate: true,\n    sslCA: [fs.readFileSync('private/cert.pem')] // cert from compose.io dashboard\n  }\n}\nmongoose.connect(configDB.url(appEnv), options); // connect to our database\n\n// set the view engine to ejs\napp.set('view engine', 'ejs');\n\nrequire('./modules/config/passport')(passport);\n\nvar __dirname = path.resolve(path.dirname());\napp.use(express.static(path.join(__dirname, 'public')));\napp.set(path.join('views', __dirname, 'public'));\napp.set('port', process.env.VCAP_APP_PORT || 1337);\napp.use(bodyParser.urlencoded({extended: true}));\napp.use(bodyParser.json());\napp.use(cookieParser());\n\n// required for passport\napp.use(session({ secret: process.env.SESSION_SECRET })); // session secret\napp.use(passport.initialize());\napp.use(passport.session()); // persistent login sessions\napp.use(flash()); // use connect-flash for flash messages stored in session\napp.use(require(\"skipper\")());\n\nrequire('./routes.js')(app, passport, swiftCredentials); // load our routes and pass in our app and fully configured passport\n\napp.listen(app.get('port'), function() {\n\n    var skipperSwift = require(\"skipper-openstack\")();\n    skipperSwift.ensureContainerExists(swiftCredentials, swiftCredentials.container, function (error) {\n      if (error) {\n        console.log(\"unable to create default container\", swiftCredentials.container);\n      }\n      else {\n        console.log(\"ensured default container\", swiftCredentials.container, \"exists\");\n      }\n    });\n\n    console.info('Server listening on port ' + this.address().port);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./app.js\n **/","module.exports = require(\"express\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"cfenv\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"cfenv\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"body-parser\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"body-parser\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"mongoose\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"mongoose\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"passport\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"passport\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"connect-flash\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"connect-flash\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"cookie-parser\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"cookie-parser\"\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = require(\"express-session\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express-session\"\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = require(\"source-map-support\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"source-map-support\"\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = (function(){\n\tvar vcap = {\n\t\tservices:{\n\t\t    \"user-provided\": [\n\t\t        {\n\t\t            \"name\": \"tabulous-mongo\",\n\t\t            \"label\": \"user-provided\",\n\t\t            \"credentials\": {\n\t\t                \"uri\": process.env.TABULOUS_DB_URI,\n\t\t                \"port\": process.env.TABULOUS_DB_PORT,\n\t\t                \"user\": process.env.TABULOUS_DB_UN,\n\t\t                \"password\": process.env.TABULOUS_DB_PW\n\t\t            }\n\t\t        }\n\t\t    ],\n\t\t    \"Object-Storage\": [\n\t\t        {\n\t\t            \"name\": \"tabulous-storage\",\n\t\t            \"label\": \"Object-Storage\",\n\t\t            \"plan\": \"standard\",\n\t\t            \"credentials\": {\n\t\t                \"auth_url\": process.env.TABULOUS_OBJ_AUTH_URL,\n\t\t                \"token_url\": process.env.TABULOUS_OBJ_TOKEN_URL,\n\t\t                \"project\": process.env.TABULOUS_OBJ_PROJECT,\n\t\t                \"projectId\": process.env.TABULOUS_OBJ_PROJECT_ID,\n\t\t                \"region\": process.env.TABULOUS_OBJ_REGION,\n\t\t                \"userId\": process.env.TABULOUS_OBJ_USER_ID,\n\t\t                \"username\": process.env.TABULOUS_OBJ_UN,\n\t\t                \"password\": process.env.TABULOUS_OBJ_PW,\n\t\t                \"domainId\": process.env.TABULOUS_OBJ_DOMAIN_ID,\n\t\t                \"domainName\": process.env.TABULOUS_OBJ_DOMAIN_NAME\n\t\t            }\n\t\t        }\n\t\t    ]\n\t\t}\n\t}\n\treturn vcap;\n})();\n\n\n/** WEBPACK FOOTER **\n ** ./vcap-local.js\n **/","module.exports = {\n\t'url' : function(appEnv){\n\t\tvar mongoCreds = appEnv.getServiceCreds(\"tabulous-mongo\");\n\t\tmongoCreds.database = process.env.TABULOUS_DB;\n\t\treturn \"mongodb://\"+mongoCreds.user+\":\"+mongoCreds.password+\"@\"+mongoCreds.uri+\":\"+mongoCreds.port+\"/\"+mongoCreds.database+\"?ssl=true\";\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./modules/config/database.js\n **/","// load all the things we need\nvar FacebookStrategy = require('passport-facebook').Strategy;\n\n// load up the user model\nvar User       = require('../models/user');\n\n// load the auth variables\nvar configAuth = require('./auth');\n\nmodule.exports = function(passport) {\n\n    // used to serialize the user for the session\n    passport.serializeUser(function(user, done) {\n        done(null, user.id);\n    });\n\n    // used to deserialize the user\n    passport.deserializeUser(function(id, done) {\n        User.findById(id, function(err, user) {\n            done(err, user);\n        });\n    });\n\n    // =========================================================================\n    // FACEBOOK ================================================================\n    // =========================================================================\n    passport.use(new FacebookStrategy({\n\n        // pull in our app id and secret from our auth.js file\n        clientID        : configAuth.facebookAuth.clientID,\n        clientSecret    : configAuth.facebookAuth.clientSecret,\n        callbackURL     : configAuth.facebookAuth.callbackURL,\n        profileFields: ['id', 'name', 'email']\n\n    },\n\n    // facebook will send back the token and profile\n    function(token, refreshToken, profile, done) {\n        // asynchronous\n        process.nextTick(function() {\n\n            // find the user in the database based on their facebook id\n            User.findOne({ 'facebook.id' : profile.id }, function(err, user) {\n\n                // if there is an error, stop everything and return that\n                // ie an error connecting to the database\n                if (err)\n                    return done(err);\n\n                // if the user is found, then log them in\n                if (user) {\n                    return done(null, user); // user found, return that user\n                } else {\n                    // if there is no user found with that facebook id, create them\n                    var newUser            = new User();\n                    console.log(profile);\n                    // set all of the facebook information in our user model\n                    newUser.facebook.id    = profile.id; // set the users facebook id                   \n                    newUser.facebook.token = token; // we will save the token that facebook provides to the user                    \n                    newUser.facebook.name  = profile.name.givenName + ' ' + profile.name.familyName; // look at the passport user profile to see how names are returned\n                    newUser.facebook.first_name = profile.name.givenName;\n                    newUser.facebook.last_name = profile.name.familyName;\n                    newUser.facebook.email = profile.emails[0].value; // facebook can return multiple emails so we'll take the first\n\n                    // save our user to the database\n                    newUser.save(function(err) {\n                        if (err)\n                            throw err;\n\n                        // if successful, return the new user\n                        return done(null, newUser);\n                    });\n                }\n\n            });\n        });\n\n    }));\n\n};\n\n\n/** WEBPACK FOOTER **\n ** ./modules/config/passport.js\n **/","module.exports = require(\"passport-facebook\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"passport-facebook\"\n ** module id = 15\n ** module chunks = 0\n **/","// load the things we need\nvar mongoose = require('mongoose');\nvar bcrypt   = require('bcrypt-nodejs');\n\n// define the schema for our user model\nvar userSchema = mongoose.Schema({\n\n    local            : {\n        email        : String,\n        password     : String,\n    },\n    facebook         : {\n        id           : String,\n        token        : String,\n        email        : String,\n        name         : String,\n        first_name   : String,\n        last_name    : String\n    },\n    twitter          : {\n        id           : String,\n        token        : String,\n        displayName  : String,\n        username     : String\n    },\n    google           : {\n        id           : String,\n        token        : String,\n        email        : String,\n        name         : String\n    }\n});\n\n// methods ======================\n// generating a hash\nuserSchema.methods.generateHash = function(password) {\n    return bcrypt.hashSync(password, bcrypt.genSaltSync(8), null);\n};\n\n// checking if password is valid\nuserSchema.methods.validPassword = function(password) {\n    return bcrypt.compareSync(password, this.local.password);\n};\n\n// create the model for users and expose it to our app\nmodule.exports = mongoose.model('User', userSchema);\n\n\n/** WEBPACK FOOTER **\n ** ./modules/models/user.js\n **/","module.exports = require(\"bcrypt-nodejs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"bcrypt-nodejs\"\n ** module id = 17\n ** module chunks = 0\n **/","// expose our config directly to our application using module.exports\nmodule.exports = {\n\n    'facebookAuth' : {\n        'clientID'      : process.env.FACEBOOK_CLIENT_ID, // your App ID\n        'clientSecret'  : process.env.FACEBOOK_CLIENT_SECRET, // your App Secret\n        'callbackURL'   : 'http://localhost:3000/auth/facebook/callback'\n    }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./modules/config/auth.js\n **/","module.exports = require(\"skipper\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"skipper\"\n ** module id = 19\n ** module chunks = 0\n **/","module.exports = function(app, passport, swiftCredentials) {\n    var path = require('path');\n    var __dirname = path.resolve(path.dirname());\n    var upload = require('./modules/upload');\n    var objStorage = require('./modules/object_storage/index.js').install(swiftCredentials);\n\n    // route for home page\n    app.get('/', function(req, res){\n        res.render('index.ejs');\n    });\n\n    app.get('/canvas', isLoggedIn, function(req,res){\n        res.render('canvas.ejs', {\n            name : req.user.facebook.first_name,\n            newUser: true\n        });\n    });\n\n    // =====================================\n    // FACEBOOK ROUTES =====================\n    // =====================================\n    // route for facebook authentication and login\n    app.get('/auth/facebook', passport.authenticate('facebook', { scope : 'email' }));\n\n    // handle the callback after facebook has authenticated the user\n    app.get('/auth/facebook/callback',\n        passport.authenticate('facebook', {\n            successRedirect : '/canvas',\n            failureRedirect : '/'\n        }));\n\n    // route for logging out\n    app.get('/logout', function(req, res) {\n        req.logout();\n        res.redirect('/');\n    });\n\n    app.post('/upload', isLoggedIn, function(req, res){\n        objStorage.createObject(false,req,res);\n    });\n\n};\n\n// route middleware to make sure a user is logged in\nfunction isLoggedIn(req, res, next) {\n\n    // if user is authenticated in the session, carry on\n    if (req.isAuthenticated())\n        return next();\n\n    // if they aren't redirect them to the home page\n    res.redirect('/');\n}\n\n\n/** WEBPACK FOOTER **\n ** ./routes.js\n **/","var exports = module.exports = {};\nvar crypto = require('crypto');\nvar multer = require('multer');\nvar mime = require('mime');\nvar storage = multer.diskStorage({\n\tdestination: function(req, file, callback){\n\t\tcallback(null, './public/uploads');\n\t},\n\tfilename: function (req, file, cb) {\n\t\tcrypto.pseudoRandomBytes(16, function (err, raw) {\n\t\t\tcb(null, raw.toString('hex') + '.' + mime.extension(file.mimetype));\n\t\t});\n\t}\n});\n\nvar upload = multer({storage : storage}).single('wireframe');\n\nexports.router = (req, res) => {\n\tupload(req, res, function(err){\n\t\tif(err){\n            console.log(err);\n\t\t\treturn res.end('Error uploading file.');\n\t\t}\n\t\treq.file.success=true;\n\t\tres.json(req.file);\n        return req.file;\n\t});\n}\n\n\n/** WEBPACK FOOTER **\n ** ./modules/upload.js\n **/","module.exports = require(\"crypto\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"crypto\"\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = require(\"multer\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"multer\"\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = require(\"mime\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"mime\"\n ** module id = 24\n ** module chunks = 0\n **/","var request = require('request');\nvar fs = require('fs');\nvar mimeTypes = require('mime-types');\nvar crypto = require('crypto');\n\n/*\n\tTODO: set request URL automatically from token request\n*/\n\nmodule.exports = {\n\ttoken:null,\n\taccountData: {},\n\texpiration: 0,\n\tinstall: function(credentials){\n\t\t//Check if the token URL was brought in with the VCAP credentials. If not, add it from environmental variables.\n\t\tif(Object.keys(credentials).indexOf('token_url') == -1){\n\t\t\tcredentials['token_url'] = process.env.TABULOUS_OBJ_TOKEN_URL;\n\t\t}\n\n\t\tif(this.checkAccountData(credentials)){\n\t\t\tthis.accountData = credentials;\n\t\t}else{\n\t\t\tprocess.stderr.write('Invalid credentials\\n');\n\t\t}\n\t\treturn this;\n\t},\n\n\tcheckAccountData: function(credentials){\n\n\t\t['auth_url', 'token_url', 'project', 'projectId', 'region', 'userId', 'username', 'password', 'domainId', 'domainName', 'req_url'].forEach((key) => {\n\t\t\tif ((Object.keys(credentials).indexOf(key)) == -1){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn true;\n\t},\n\n\tsetToken: function(callback){\n\t\tvar form = {\n\t\t\t\"auth\": {\n\t\t\t    \"identity\": {\n\t\t\t        \"methods\": [\n\t\t\t            \"password\"\n\t\t\t        ],\n\t\t\t        \"password\": {\n\t\t\t            \"user\": {\n\t\t\t                \"id\": this.accountData.userId,\n\t\t\t                \"password\": this.accountData.password\n\t\t\t            }\n\t\t\t        }\n\t\t\t    },\n\t\t\t    \"scope\": {\n\t\t\t        \"project\": {\n\t\t\t            \"id\": this.accountData.projectId\n\t\t\t        }\n\t\t\t    }\n\t\t\t}\n\t\t};\n\n\t\tvar options = {\n\t\t    json: form,\n\t\t    method: 'POST',\n\t\t\turi : this.accountData.token_url\n\t\t}\n\t\tvar that = this;\n\t\tfunction processResponse(error, response, body) {\n\t\t  if (!error && response.statusCode == 201) {\n\t\t    that.token = response.caseless.dict['x-subject-token'];\n\t\t    this.expiration = new Date(response.body.token.expires_at);\n\t\t    if(callback){\n\t\t    \tcallback(that.token);\n\t\t    }\n\t\t  }else{\n\t\t  \tprocess.stderr.write('TOKEN AUTHENTICATION FAILED:\\n');\n\t\t  \tprocess.stderr.write(error+'\\n');\n\t\t  \tprocess.stderr.write(response.statusCode+'\\n');\n\t\t  }\n\t\t}\n\n\t\trequest.post(options, processResponse);\n\t},\n\n\tsetContainer: function(container){\n\t\tthis.container = container;\n\t},\n\n\tlistContainerContents: function(cont){\n\t\tvar container = this.accountData.container;\n\t\tif(!container){\n\t\t\tcontainer = cont;\n\t\t}\n\t\tvar that = this;\n\t\tvar listReq = function(token){\n\t\t\trequest(\n\t\t\t\t{\n\t\t\t\t\t'url' : that.accountData.req_url+'AUTH_'+that.accountData.project_id+'/'+container, \n\t\t\t\t\t'headers' : {'X-Auth-Token' : token}\n\t\t\t\t}, function(error, response, body){\n\t\t\t\t\tif (!error && response.statusCode == 200) {\n\t\t\t    \t\tconsole.log(response.body);\n\t\t    \t\t}else{\n\t\t    \t\t\tconsole.log(error);\n\t\t\t    \t\tconsole.log(response.statusCode);\n\t\t    \t\t}\n\t\t    \t}\n\t\t    );\n\t\t}\n\t\t//if the token has expired, get and set a new one first\n\t\tif(this.expiration < new Date()){\n\t\t\tthis.setToken(listReq);\n\t\t}else{\n\t\t\tlistReq(this.token);\n\t\t}\n\t},\n\tcreateObject: function(cont, req, res){\n\t\tvar skipperSwift = require('skipper-openstack')();\n\n\t\tvar container = this.accountData.container;\n\t\tif(!container){\n\t\t\tcontainer = cont;\n\t\t}\n\t\tvar that = this;\n\t\tcrypto.pseudoRandomBytes(16, function (err, raw) {\n\t\t\tvar filename = raw.toString('hex') + '.' + mimeTypes.extension(req.file('wireframe')._files[0].stream.headers['content-type']);\n\t\t\treq.file('wireframe')._files[0].stream.filename = filename;\n\t\t\treq.file('wireframe').upload({\n\t\t\t\tadapter: require('skipper-openstack'),\n\t\t\t\tcredentials: that.accountData,\n\t\t\t\tcontainer: container\n\t\t\t},function(err, uploadedFiles){\n\t\t\t\tif(err){\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\treturn res.json({\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\terror: err\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log(that.accountData);\n\t\t\t\t\treturn res.json({\n\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\tpath: 'http://dal.objectstorage.open.softlayer.com/v1/AUTH_'+that.accountData.projectId+'/'+that.accountData.container+'/'+filename\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./modules/object_storage/index.js\n **/","module.exports = require(\"request\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"request\"\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = require(\"mime-types\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"mime-types\"\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = require(\"skipper-openstack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"skipper-openstack\"\n ** module id = 28\n ** module chunks = 0\n **/"],"sourceRoot":""}